[
  {
    "objectID": "rotorua.html",
    "href": "rotorua.html",
    "title": "Rotorua demo",
    "section": "",
    "text": "note add what kindof lat long system used_____\nLimnotrack Buoy (lat:-380550S Lon:1761653E) on lake, NIWA virtual climate station network (VCSN) grid NO:27879 lat:-38.075 lon:176.275, ERA5 statlite data for Lat:-38.114908 and Lon:176.316662, Observational data “Airport” station 1770 (lat:-38.10592 lon:176.31481), Obresvational data “Town” station 41077 (lat:-38.14635 lon:176.2578).\n\n\n# A tibble: 24 × 13\n   target var     subset     n   cor slope intercept    mae   rmse    ccc   bias\n   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;  &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n 1 ERA5   Temp_C  all_d…  5873 0.950 0.882     0.990   1.15   1.42 0.940  -0.533\n 2 ERA5   Precip… all_d…  5829 0.741 0.873     3.12    4.16   8.87 0.713   2.62 \n 3 ERA5   Precip… wet_d…  1799 0.674 0.745     7.33    9.05  14.2  0.652   4.10 \n 4 ERA5   Wind_S… all_d…  5854 0.606 0.413     0.650   1.58   1.95 0.352  -1.49 \n 5 ERA5   Wind_S… windy…   588 0.202 0.210     2.00    3.46   3.71 0.0310 -3.46 \n 6 ERA5   RadSWD… all_d…    44 0.365 0.117   154.    197.   252.   0.212  -1.89 \n 7 Buoy   Temp_C  all_d…  1225 0.934 0.806     3.58    1.39   1.82 0.892   1.03 \n 8 Buoy   Precip… all_d…  1246 0.611 0.337     0.281   3.93  10.0  0.493  -2.99 \n 9 Buoy   Precip… wet_d…   417 0.556 0.337     0.257  11.0   17.1  0.404  -9.41 \n10 Buoy   Wind_S… all_d…  1223 0.810 0.871     1.26    1.04   1.30 0.733   0.765\n# ℹ 14 more rows\n# ℹ 2 more variables: rel_bias &lt;dbl&gt;, wind_threshold &lt;dbl&gt;"
  },
  {
    "objectID": "rotorua.html#site-data-sources",
    "href": "rotorua.html#site-data-sources",
    "title": "Rotorua demo",
    "section": "",
    "text": "note add what kindof lat long system used_____\nLimnotrack Buoy (lat:-380550S Lon:1761653E) on lake, NIWA virtual climate station network (VCSN) grid NO:27879 lat:-38.075 lon:176.275, ERA5 statlite data for Lat:-38.114908 and Lon:176.316662, Observational data “Airport” station 1770 (lat:-38.10592 lon:176.31481), Obresvational data “Town” station 41077 (lat:-38.14635 lon:176.2578).\n\n\n# A tibble: 24 × 13\n   target var     subset     n   cor slope intercept    mae   rmse    ccc   bias\n   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;  &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;\n 1 ERA5   Temp_C  all_d…  5873 0.950 0.882     0.990   1.15   1.42 0.940  -0.533\n 2 ERA5   Precip… all_d…  5829 0.741 0.873     3.12    4.16   8.87 0.713   2.62 \n 3 ERA5   Precip… wet_d…  1799 0.674 0.745     7.33    9.05  14.2  0.652   4.10 \n 4 ERA5   Wind_S… all_d…  5854 0.606 0.413     0.650   1.58   1.95 0.352  -1.49 \n 5 ERA5   Wind_S… windy…   588 0.202 0.210     2.00    3.46   3.71 0.0310 -3.46 \n 6 ERA5   RadSWD… all_d…    44 0.365 0.117   154.    197.   252.   0.212  -1.89 \n 7 Buoy   Temp_C  all_d…  1225 0.934 0.806     3.58    1.39   1.82 0.892   1.03 \n 8 Buoy   Precip… all_d…  1246 0.611 0.337     0.281   3.93  10.0  0.493  -2.99 \n 9 Buoy   Precip… wet_d…   417 0.556 0.337     0.257  11.0   17.1  0.404  -9.41 \n10 Buoy   Wind_S… all_d…  1223 0.810 0.871     1.26    1.04   1.30 0.733   0.765\n# ℹ 14 more rows\n# ℹ 2 more variables: rel_bias &lt;dbl&gt;, wind_threshold &lt;dbl&gt;"
  },
  {
    "objectID": "rotorua.html#data-coverage",
    "href": "rotorua.html#data-coverage",
    "title": "Rotorua demo",
    "section": "Data coverage",
    "text": "Data coverage"
  },
  {
    "objectID": "rotorua.html#metrics-table-reference-vs-targets",
    "href": "rotorua.html#metrics-table-reference-vs-targets",
    "title": "Rotorua demo",
    "section": "Metrics table (reference vs targets)",
    "text": "Metrics table (reference vs targets)"
  },
  {
    "objectID": "rotorua.html#time-series-overlays",
    "href": "rotorua.html#time-series-overlays",
    "title": "Rotorua demo",
    "section": "Time series overlays",
    "text": "Time series overlays"
  },
  {
    "objectID": "rotorua.html#precipitation-event-structure",
    "href": "rotorua.html#precipitation-event-structure",
    "title": "Rotorua demo",
    "section": "Precipitation event structure",
    "text": "Precipitation event structure"
  },
  {
    "objectID": "rotorua.html#distribution-variability-bias",
    "href": "rotorua.html#distribution-variability-bias",
    "title": "Rotorua demo",
    "section": "Distribution (variability / bias)",
    "text": "Distribution (variability / bias)"
  },
  {
    "objectID": "rotorua.html#scatter-vs-reference",
    "href": "rotorua.html#scatter-vs-reference",
    "title": "Rotorua demo",
    "section": "Scatter vs reference",
    "text": "Scatter vs reference"
  },
  {
    "objectID": "rotorua.html#rolling-diagnostics-drift-thrugh-time",
    "href": "rotorua.html#rolling-diagnostics-drift-thrugh-time",
    "title": "Rotorua demo",
    "section": "Rolling diagnostics (drift thrugh time)",
    "text": "Rolling diagnostics (drift thrugh time)"
  },
  {
    "objectID": "rotorua.html#precipitation-event-agreement",
    "href": "rotorua.html#precipitation-event-agreement",
    "title": "Rotorua demo",
    "section": "Precipitation event agreement",
    "text": "Precipitation event agreement"
  },
  {
    "objectID": "rotorua.html#monthly-climatology-seasonal-structure",
    "href": "rotorua.html#monthly-climatology-seasonal-structure",
    "title": "Rotorua demo",
    "section": "Monthly climatology (seasonal structure)",
    "text": "Monthly climatology (seasonal structure)"
  },
  {
    "objectID": "rotorua.html#seasonal-performance-nzsouthern-hemisphere",
    "href": "rotorua.html#seasonal-performance-nzsouthern-hemisphere",
    "title": "Rotorua demo",
    "section": "Seasonal performance (NZ/Southern Hemisphere)",
    "text": "Seasonal performance (NZ/Southern Hemisphere)"
  },
  {
    "objectID": "rotorua.html#interactive-table",
    "href": "rotorua.html#interactive-table",
    "title": "Rotorua demo",
    "section": "Interactive table",
    "text": "Interactive table"
  },
  {
    "objectID": "methods.html",
    "href": "methods.html",
    "title": "Methods",
    "section": "",
    "text": "note: can add schematic examples"
  },
  {
    "objectID": "methods.html#data-harmonisation-units-and-time-step",
    "href": "methods.html#data-harmonisation-units-and-time-step",
    "title": "Methods",
    "section": "Data harmonisation units and time step",
    "text": "Data harmonisation units and time step\nThe four datasets"
  },
  {
    "objectID": "methods.html#reference-site-justification",
    "href": "methods.html#reference-site-justification",
    "title": "Methods",
    "section": "Reference site justification",
    "text": "Reference site justification"
  },
  {
    "objectID": "methods.html#metrics",
    "href": "methods.html#metrics",
    "title": "Methods",
    "section": "Metrics",
    "text": "Metrics"
  },
  {
    "objectID": "methods.html#wetwindy-supsets-and-logic",
    "href": "methods.html#wetwindy-supsets-and-logic",
    "title": "Methods",
    "section": "Wet/windy supsets and logic",
    "text": "Wet/windy supsets and logic\nwet-day logic\nwindy extremes logic"
  },
  {
    "objectID": "methods.html#data-avalability-overlap",
    "href": "methods.html#data-avalability-overlap",
    "title": "Methods",
    "section": "Data avalability / overlap",
    "text": "Data avalability / overlap\n= table here showing data time series and its overlap (coverage per dataset)"
  },
  {
    "objectID": "methods.html#rolling-diagnostics-logic",
    "href": "methods.html#rolling-diagnostics-logic",
    "title": "Methods",
    "section": "Rolling diagnostics logic",
    "text": "Rolling diagnostics logic"
  },
  {
    "objectID": "Behaviour.html#zero-vs-non-zero-precipitation-disagreement",
    "href": "Behaviour.html#zero-vs-non-zero-precipitation-disagreement",
    "title": "Seasonal and event behaviour",
    "section": "Zero vs non-zero precipitation disagreement",
    "text": "Zero vs non-zero precipitation disagreement"
  },
  {
    "objectID": "Behaviour.html#wind-detection-mismach",
    "href": "Behaviour.html#wind-detection-mismach",
    "title": "Seasonal and event behaviour",
    "section": "Wind detection mismach",
    "text": "Wind detection mismach"
  },
  {
    "objectID": "Behaviour.html#timing-offsets",
    "href": "Behaviour.html#timing-offsets",
    "title": "Seasonal and event behaviour",
    "section": "Timing offsets",
    "text": "Timing offsets"
  },
  {
    "objectID": "Behaviour.html#overunder-capture-of-extremes",
    "href": "Behaviour.html#overunder-capture-of-extremes",
    "title": "Seasonal and event behaviour",
    "section": "Over/under-capture of extremes",
    "text": "Over/under-capture of extremes"
  },
  {
    "objectID": "index.html#project-description",
    "href": "index.html#project-description",
    "title": "Meterological Lake Comparison",
    "section": "Project description",
    "text": "Project description\nThis project aims to take meteorological data in close proximity from different sources and evaluate their validity across variables and time.\nIt assesses four main meterological parameters (precipitation, wind, radiation, temperature) for accuracy, stability and usability. This was developed for the use of lymnologists with the purpose of selecting data sources for differing projects and attempts to answer the question “what data to use and when?”. The data sources used are Limnotrack Buoy in-situ, NIWA virtual climate station network (VCSN), ERA5 statlite data and NIWAs Observational climate data.\nLake Rotorua, North Island, New Zealand is used as a worked example thoughout."
  },
  {
    "objectID": "index.html#guide",
    "href": "index.html#guide",
    "title": "Meterological Lake Comparison",
    "section": "Guide",
    "text": "Guide\nThis project takes your though…… Following the logical flow of….. Desision of what data sets to use will depend on intended outcome."
  },
  {
    "objectID": "index.html#data-coverage",
    "href": "index.html#data-coverage",
    "title": "Meterological Lake Comparison",
    "section": "Data coverage",
    "text": "Data coverage"
  },
  {
    "objectID": "index.html#metrics-table-reference-vs-targets",
    "href": "index.html#metrics-table-reference-vs-targets",
    "title": "Meterological Lake Comparison",
    "section": "Metrics table (reference vs targets)",
    "text": "Metrics table (reference vs targets)"
  },
  {
    "objectID": "index.html#time-series-overlays",
    "href": "index.html#time-series-overlays",
    "title": "Meterological Lake Comparison",
    "section": "Time series overlays",
    "text": "Time series overlays\n\n\n[[1]]\n\n[[2]]\n\n[[3]]"
  },
  {
    "objectID": "Overview.html",
    "href": "Overview.html",
    "title": "Meterological Source Comparison",
    "section": "",
    "text": "To analyse different meterological data avalable for a given location."
  },
  {
    "objectID": "Overview.html#objective",
    "href": "Overview.html#objective",
    "title": "Meterological Source Comparison",
    "section": "",
    "text": "To analyse different meterological data avalable for a given location."
  },
  {
    "objectID": "Overview.html#data-sources",
    "href": "Overview.html#data-sources",
    "title": "Meterological Source Comparison",
    "section": "Data sources",
    "text": "Data sources\nnote add what kindof lat long system used_____\nLimnotrack Buoy on lake, NIWA virtual climate station network (VCSN) , ERA5 statlite data, Observational data “Airport” station, Obresvational data “Town” station.\nData source and station names will vary from location to location. Selecting stations from these websites is laid out in the data wrangling section"
  },
  {
    "objectID": "Overview.html#outputs",
    "href": "Overview.html#outputs",
    "title": "Meterological Source Comparison",
    "section": "Outputs",
    "text": "Outputs\nThe outputs of this project will show:\n\nCorrelation coeficient (Pearsons r)\nChange in intercept and slope (linear regrassion slope and intercept)\nMean absolute error (MAE)\nRoot mean squared error (RMSE)\nConcordance\nMean and realitive bias\nThese metrics along with plots and diagnostics will answer bias questions, seasonal behaviour, event disagreement and extremes"
  },
  {
    "objectID": "Overview.html#study-area",
    "href": "Overview.html#study-area",
    "title": "Meterological Source Comparison",
    "section": "Study area",
    "text": "Study area\n\n\nCode\n# Note: Chage Quarto title Lat and lon to render your location of choice\nlibrary(leaflet)\n\n# Interactive overview map centred on the lake\nleaflet() |&gt;\n  addTiles() |&gt;\n  addCircles(\n    lng = params$lon,\n    lat = params$lat,\n    radius = params$buffer_km * 1000,\n    color = \"dodgerblue\",\n    fillOpacity = 0.25,\n    popup = params$lake_name\n  ) |&gt;\n  addCircleMarkers(\n    lng = params$lon,\n    lat = params$lat,\n    radius = 6,\n    color = \"navy\",\n    fillOpacity = 0.9,\n    popup = params$lake_name\n  ) |&gt;\n  setView(lng = params$lon, lat = params$lat, zoom = 11)"
  },
  {
    "objectID": "Overview.html#polygon-and-plot",
    "href": "Overview.html#polygon-and-plot",
    "title": "Meterological Source Comparison",
    "section": "Polygon and plot",
    "text": "Polygon and plot\n\n\nCode\nlibrary(osmdata)\nlibrary(sf)\nlibrary(tmap)\nlibrary(rnaturalearth)\nlibrary(rnaturalearthdata)\nlibrary(tibble)  # for tribble()\n\n# Download nearby water polygons to outline the lake\nbb &lt;- c(\n  params$lon - 0.1,\n  params$lat - 0.1,\n  params$lon + 0.1,\n  params$lat + 0.1\n)\n\nosm_lake &lt;- opq(bbox = bb) |&gt;\n  add_osm_feature(key = \"natural\", value = \"water\") |&gt;\n  osmdata_sf()\n\nlake_poly &lt;- osm_lake$osm_multipolygons |&gt; st_make_valid()\n\n# Fallback: if no polygon returned, use the bounding box as a placeholder polygon\nif (nrow(lake_poly) == 0) {\n  lake_poly &lt;- st_polygon(list(rbind(\n    c(bb[1], bb[2]),\n    c(bb[3], bb[2]),\n    c(bb[3], bb[4]),\n    c(bb[1], bb[4]),\n    c(bb[1], bb[2])\n  ))) |&gt;\n    st_sfc(crs = 4326) |&gt;\n    st_as_sf()\n}\n \n\n# Change lon and lat to render your location of choice \n#change names to match locations\n# Station metadata (decimal degrees)\nstations &lt;- tribble(\n  ~name,           ~lon,       ~lat,       \n  \"Airport_1770\",  176.31481, -38.10592,  \n  \"ERA5\",          176.316662,-38.114908,  \n  \"Buoy\",          176.2653,  -38.0740,    \n  \"Town_40177\",    176.2578,  -38.14635,   \n  \"VCS_On\",        176.275,   -38.075\n)\n\nstations_sf &lt;- st_as_sf(stations, coords = c(\"lon\", \"lat\"), crs = 4326)\n\n\n# Use combined extent of lake + stations, with a small buffer (degrees)\nmap_extent &lt;- st_union(lake_poly, st_geometry(stations_sf)) |&gt;\n  st_bbox() |&gt;\n  st_as_sfc() |&gt;\n  st_buffer(dist = 0.005)   # shrink/expand to taste\n\n#Change names to match your Data set where nessesary\nstation_palette &lt;- c(\n  Airport_1770 = \"black\",\n  ERA5         = \"#d95f02\",\n  Buoy         = \"#7570b3\",\n  Town_40177   = \"#f0c400\",\n  VCS_On       = \"#1b9e77\"\n)\n\n# Inset: New Zealand with study extent box\nnz &lt;- rnaturalearth::ne_countries(country = \"New Zealand\", scale = \"medium\", returnclass = \"sf\")\ninset &lt;- tm_shape(nz) +\n  tm_polygons(col = \"gray90\", border.col = \"gray60\") +\n  tm_shape(map_extent) +\n  tm_borders(col = \"red\", lwd = 2)\n\ntmap_mode(\"plot\")\n\ntm_shape(lake_poly, bbox = st_bbox(map_extent)) +\n  tm_fill(col = \"blue\", alpha = 0.6) +\n  tm_borders(col = \"black\") +\n  tm_shape(stations_sf) +\n  tm_symbols(\n    col = \"name\",\n    palette = station_palette,\n    shape = 21,\n    size = 1,\n    border.col = \"black\",\n    colorNA = NA,\n    textNZ = NULL,\n    legend.col.show = TRUE,\n    legend.col.title = \"Stations\",\n    title.col = \"Stations\"\n  ) +\n  tm_compass(\n    type = \"arrow\",\n    position = c(\"left\", \"top\"),\n    color.dark = \"black\",\n    color.light = \"gray80\"\n  ) +\n  tm_scale_bar(position = c(\"left\", \"bottom\")) +\n  tm_layout(\n    title = params$lake_name,\n    frame = FALSE,\n    legend.outside = TRUE,\n    legend.title.size = 0.8,\n    legend.text.size = 0.7,\n    legend.format = list(digits = 2),\n    inset_tm = inset,\n    inset_x = 0.72, inset_y = 0.05, inset_width = 0.25, inset_height = 0.25\n  )\n\n\n\n\n\n\n\n\n\nRotorua Lake, North Island, New Zealand"
  },
  {
    "objectID": "Results.html#precipitation-wet-days-table",
    "href": "Results.html#precipitation-wet-days-table",
    "title": "Variable diagnostics",
    "section": "Precipitation wet days table",
    "text": "Precipitation wet days table"
  },
  {
    "objectID": "Results.html#windy-days-table-top-10-threshold",
    "href": "Results.html#windy-days-table-top-10-threshold",
    "title": "Variable diagnostics",
    "section": "Windy days table (top 10% + threshold)",
    "text": "Windy days table (top 10% + threshold)"
  },
  {
    "objectID": "Results.html#plots",
    "href": "Results.html#plots",
    "title": "Variable diagnostics",
    "section": "Plots",
    "text": "Plots\n\nScatter vs reference + 1:1 line\n\n\ntime series overlays\n\n\nDistribution (density/hits)"
  }
]