[
  {
    "objectID": "reference_list.html",
    "href": "reference_list.html",
    "title": "Reference List",
    "section": "",
    "text": "This page lists all entries in the project bibliography.\n\n\n\n\nReferences\n\nAllaire, JJ, Yihui Xie, Christophe Dervieux, Jonathan McPherson, Javier Luraschi, Kevin Ushey, Aron Atkins, et al. 2024. Rmarkdown: Dynamic Documents for r. https://github.com/rstudio/rmarkdown.\n\n\nChang, Winston, Joe Cheng, JJ Allaire, Carson Sievert, Barret Schloerke, Garrick Aden-Buie, Yihui Xie, et al. 2025. Shiny: Web Application Framework for r. https://shiny.posit.co/.\n\n\nCheng, Joe, Barret Schloerke, Bhaskar Karambelkar, Yihui Xie, and Garrick Aden-Buie. 2025. Leaflet: Create Interactive Web Maps with the JavaScript Leaflet Library. https://rstudio.github.io/leaflet/.\n\n\nCheng, Joe, Carson Sievert, Barret Schloerke, Winston Chang, Yihui Xie, and Jeff Allen. 2024. Htmltools: Tools for HTML. https://github.com/rstudio/htmltools.\n\n\nGrolemund, Garrett, and Hadley Wickham. 2011. “Dates and Times Made Easy with lubridate.” Journal of Statistical Software 40 (3): 1–25. https://www.jstatsoft.org/v40/i03/.\n\n\nIannone, Richard, Joe Cheng, Barret Schloerke, Shannon Haughton, Ellis Hughes, Alexandra Lauer, Romain François, JooYoung Seo, Ken Brevoort, and Olivier Roy. 2026. Gt: Easily Create Presentation-Ready Display Tables. https://gt.rstudio.com.\n\n\nLin, Greg. 2025. Reactable: Interactive Data Tables for r. https://glin.github.io/reactable/.\n\n\nMark Padgham, Bob Rudis, Robin Lovelace, and Maëlle Salmon. 2017. “Osmdata.” Journal of Open Source Software 2 (14): 305. https://doi.org/10.21105/joss.00305.\n\n\nMaspons, Joan, Mark Padgham, Bob Rudis, Robin Lovelace, and Maëlle Salmon. 2025. Osmdata: Import OpenStreetMap Data as Simple Features or Spatial Objects. https://docs.ropensci.org/osmdata/.\n\n\nMassicotte, Philippe, and Andy South. 2026. Rnaturalearth: World Map Data from Natural Earth. https://docs.ropensci.org/rnaturalearth/.\n\n\nMüller, Kirill. 2025. Here: A Simpler Way to Find Your Files. https://here.r-lib.org/.\n\n\nMüller, Kirill, and Hadley Wickham. 2023. Tibble: Simple Data Frames. https://tibble.tidyverse.org/.\n\n\nPebesma, Edzer. 2018. “Simple Features for R: Standardized Support for Spatial Vector Data.” The R Journal 10 (1): 439–46. https://doi.org/10.32614/RJ-2018-009.\n\n\n———. 2026. Sf: Simple Features for r. https://r-spatial.github.io/sf/.\n\n\nPebesma, Edzer, and Roger Bivand. 2023. Spatial Data Science: With applications in R. Chapman and Hall/CRC. https://doi.org/10.1201/9780429459016.\n\n\nSievert, Carson. 2020. Interactive Web-Based Data Visualization with r, Plotly, and Shiny. Chapman; Hall/CRC. https://plotly-r.com.\n\n\nSievert, Carson, Chris Parmer, Toby Hocking, Scott Chamberlain, Karthik Ram, Marianne Corvellec, and Pedro Despouy. 2025. Plotly: Create Interactive Web Graphics via Plotly.js. https://plotly-r.com.\n\n\nSouth, Andy, Schramm Michael, and Philippe Massicotte. 2024. Rnaturalearthdata: World Vector Map Data from Natural Earth Used in Rnaturalearth. https://docs.ropensci.org/rnaturalearthdata/.\n\n\nSpinu, Vitalie, Garrett Grolemund, and Hadley Wickham. 2023. Lubridate: Make Dealing with Dates a Little Easier. https://lubridate.tidyverse.org.\n\n\nTennekes, Martijn. 2018. “tmap: Thematic Maps in R.” Journal of Statistical Software 84 (6): 1–39. https://doi.org/10.18637/jss.v084.i06.\n\n\n———. 2025. Tmap: Thematic Maps. https://github.com/r-tmap/tmap.\n\n\nUshey, Kevin, and Hadley Wickham. 2025. Renv: Project Environments. https://rstudio.github.io/renv/.\n\n\nVaughan, Davis. 2025. Slider: Sliding Window Functions. https://github.com/r-lib/slider.\n\n\nWickham, Hadley. 2016. Ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York. https://ggplot2.tidyverse.org.\n\n\nWickham, Hadley, Winston Chang, Lionel Henry, Thomas Lin Pedersen, Kohske Takahashi, Claus Wilke, Kara Woo, Hiroaki Yutani, Dewey Dunnington, and Teun van den Brand. 2025. Ggplot2: Create Elegant Data Visualisations Using the Grammar of Graphics. https://ggplot2.tidyverse.org.\n\n\nWickham, Hadley, Romain François, Lionel Henry, Kirill Müller, and Davis Vaughan. 2023. Dplyr: A Grammar of Data Manipulation. https://dplyr.tidyverse.org.\n\n\nWickham, Hadley, and Lionel Henry. 2025. Purrr: Functional Programming Tools. https://purrr.tidyverse.org/.\n\n\nWickham, Hadley, Jim Hester, and Jennifer Bryan. 2024. Readr: Read Rectangular Text Data. https://readr.tidyverse.org.\n\n\nWickham, Hadley, Davis Vaughan, and Maximilian Girlich. 2024. Tidyr: Tidy Messy Data. https://tidyr.tidyverse.org.\n\n\nXie, Yihui. 2014. “Knitr: A Comprehensive Tool for Reproducible Research in R.” In Implementing Reproducible Computational Research, edited by Victoria Stodden, Friedrich Leisch, and Roger D. Peng. Chapman; Hall/CRC.\n\n\n———. 2015. Dynamic Documents with R and Knitr. 2nd ed. Boca Raton, Florida: Chapman; Hall/CRC. https://yihui.org/knitr/.\n\n\n———. 2025. Knitr: A General-Purpose Package for Dynamic Report Generation in r. https://yihui.org/knitr/.\n\n\nXie, Yihui, J. J. Allaire, and Garrett Grolemund. 2018. R Markdown: The Definitive Guide. Boca Raton, Florida: Chapman; Hall/CRC. https://bookdown.org/yihui/rmarkdown.\n\n\nXie, Yihui, Christophe Dervieux, and Emily Riederer. 2020. R Markdown Cookbook. Boca Raton, Florida: Chapman; Hall/CRC. https://bookdown.org/yihui/rmarkdown-cookbook."
  },
  {
    "objectID": "rotorua.html",
    "href": "rotorua.html",
    "title": "Rotorua demo",
    "section": "",
    "text": "The second largest lake (by surface area ~79.9km2) in New Zealand, Lake Rotorua is a relatively well studied lake with and round shape fitting it’s distrinct culdera description.\nAlthough coined the second largest lake its mean depth of just 10meters results in a shallow lake clasification. Shallow lakes are particulary suseptible to climate driven shifts across short and long term scales. Shallow lakes heat up faster than deep lakes which results in larger seasonal and diurnal tempurature fluxtuations. (Frassel. et.al 2018) Shallow lakes also tend to be more suseptible to atmospheric forcing where wind, air temperature and precipitation patterms which influence water quality and consequental biology. Lake Rotorua experiance cyanobacteria blooms due to its location in the landscape (hydrothermal + Farm + Population density) recieving high nutirent content along with warmer temperatures. Additional to temperature fluxes influencing cyanobacterial fluxes, wind and rain play a role in the intensity and location of these blooms. Wind drives cyanobacterial location, often leading to cyano bloom intensification/ concentration in particular areas.\nMeterological data is utalised for many different lake assesments, from understanding lake regime shifts to modeling future lake dynamices. It is therfore vital to use the best avalable meterological data for the location and time of choice. Too often meterological data are incomplete and unreliable. ERA5 (ECMWF fifth gen) data is widely used due to its comprehensive and clean nature combining observations with model data , however it is coarse and some variables are known to misrepresent data at the land/lake surface (low atmosphere metorology). NIWAs virtual climate station takes captured observational station data and created a 5km grid conecting other weather stations to allow for intergrated data in a chosen location. The VCNS data is partly the product of the Airport data which is used as the Reference for the Rotorua Lake demo. Weather datations within higher population destinations or areas with large topographical gradients will experience micro metorological readings due to the physical nature these environments, In partucular wind, rain and even temperature in larger cities or stations placed in higher altitudes. Buoy data allows for more accurate readings due to its on water position, however precipitation data is often inaccurate as the buoy moves with the lake, especially large lakes that can develope waves. For this reason wind can also be scewed. Temperature for a given Lake from a Buoy is regarded the most likely accurate candidate as fulxtuations from a water body and fluxes from land follow different physical laws.\nThe question here is how does coarse global, mpdelled national, Local, and Lake source metorological data compare. Is there a better data source in cool or warm periods? or in a storm event? or for a specific variable? or Is there a better data source for local models?"
  },
  {
    "objectID": "rotorua.html#introduction",
    "href": "rotorua.html#introduction",
    "title": "Rotorua demo",
    "section": "",
    "text": "The second largest lake (by surface area ~79.9km2) in New Zealand, Lake Rotorua is a relatively well studied lake with and round shape fitting it’s distrinct culdera description.\nAlthough coined the second largest lake its mean depth of just 10meters results in a shallow lake clasification. Shallow lakes are particulary suseptible to climate driven shifts across short and long term scales. Shallow lakes heat up faster than deep lakes which results in larger seasonal and diurnal tempurature fluxtuations. (Frassel. et.al 2018) Shallow lakes also tend to be more suseptible to atmospheric forcing where wind, air temperature and precipitation patterms which influence water quality and consequental biology. Lake Rotorua experiance cyanobacteria blooms due to its location in the landscape (hydrothermal + Farm + Population density) recieving high nutirent content along with warmer temperatures. Additional to temperature fluxes influencing cyanobacterial fluxes, wind and rain play a role in the intensity and location of these blooms. Wind drives cyanobacterial location, often leading to cyano bloom intensification/ concentration in particular areas.\nMeterological data is utalised for many different lake assesments, from understanding lake regime shifts to modeling future lake dynamices. It is therfore vital to use the best avalable meterological data for the location and time of choice. Too often meterological data are incomplete and unreliable. ERA5 (ECMWF fifth gen) data is widely used due to its comprehensive and clean nature combining observations with model data , however it is coarse and some variables are known to misrepresent data at the land/lake surface (low atmosphere metorology). NIWAs virtual climate station takes captured observational station data and created a 5km grid conecting other weather stations to allow for intergrated data in a chosen location. The VCNS data is partly the product of the Airport data which is used as the Reference for the Rotorua Lake demo. Weather datations within higher population destinations or areas with large topographical gradients will experience micro metorological readings due to the physical nature these environments, In partucular wind, rain and even temperature in larger cities or stations placed in higher altitudes. Buoy data allows for more accurate readings due to its on water position, however precipitation data is often inaccurate as the buoy moves with the lake, especially large lakes that can develope waves. For this reason wind can also be scewed. Temperature for a given Lake from a Buoy is regarded the most likely accurate candidate as fulxtuations from a water body and fluxes from land follow different physical laws.\nThe question here is how does coarse global, mpdelled national, Local, and Lake source metorological data compare. Is there a better data source in cool or warm periods? or in a storm event? or for a specific variable? or Is there a better data source for local models?"
  },
  {
    "objectID": "rotorua.html#additional-infor-afout-data-sources---to-put-in-discussion",
    "href": "rotorua.html#additional-infor-afout-data-sources---to-put-in-discussion",
    "title": "Rotorua demo",
    "section": "Additional infor afout data sources - to put in discussion?",
    "text": "Additional infor afout data sources - to put in discussion?\nERA5 uncertancy - presious ERA-interim showed improved fit fro temp, wind and huidily in the troposphere but not in the stratosphere” (direct cite - rmets.oninelibrary.wiley.com/doi/10.1002/qj.3803)"
  },
  {
    "objectID": "rotorua.html#site-data-sources",
    "href": "rotorua.html#site-data-sources",
    "title": "Rotorua demo",
    "section": "Site data sources",
    "text": "Site data sources\nLimnotrack Buoy (lat:-380550S Lon:1761653E) on lake, NIWA virtual climate station network (VCSN) grid NO:27879 lat:-38.075 lon:176.275, ERA5 statlite data for Lat:-38.114908 and Lon:176.316662, Observational data “Airport” station 1770 (lat:-38.10592 lon:176.31481), Obresvational data “Town” station 41077 (lat:-38.14635 lon:176.2578).\nMethods\nAll work was completed in R code (r:alan2024?) following the script order stated on README in git reposotory (00, 01, 02, 03, 04, 05).\nPlease refer to methods tab for further detail"
  },
  {
    "objectID": "rotorua.html#data-coverage",
    "href": "rotorua.html#data-coverage",
    "title": "Rotorua demo",
    "section": "Data coverage",
    "text": "Data coverage"
  },
  {
    "objectID": "rotorua.html#metrics-table-reference-vs-targets",
    "href": "rotorua.html#metrics-table-reference-vs-targets",
    "title": "Rotorua demo",
    "section": "Metrics table (reference vs targets)",
    "text": "Metrics table (reference vs targets)"
  },
  {
    "objectID": "rotorua.html#time-series-overlays",
    "href": "rotorua.html#time-series-overlays",
    "title": "Rotorua demo",
    "section": "Time series overlays",
    "text": "Time series overlays"
  },
  {
    "objectID": "rotorua.html#time-series",
    "href": "rotorua.html#time-series",
    "title": "Rotorua demo",
    "section": "Time Series",
    "text": "Time Series\n\nTemperature\n\n\n\n\n\n\n\n\n\n\n\nWind"
  },
  {
    "objectID": "rotorua.html#precipitation",
    "href": "rotorua.html#precipitation",
    "title": "Rotorua demo",
    "section": "Precipitation",
    "text": "Precipitation"
  },
  {
    "objectID": "rotorua.html#precipitation-event-structure",
    "href": "rotorua.html#precipitation-event-structure",
    "title": "Rotorua demo",
    "section": "Precipitation event structure",
    "text": "Precipitation event structure\nPrecipitation data collection can be achieved in many ways. Here Airport, Town"
  },
  {
    "objectID": "rotorua.html#distribution-variability-bias",
    "href": "rotorua.html#distribution-variability-bias",
    "title": "Rotorua demo",
    "section": "Distribution (variability / bias)",
    "text": "Distribution (variability / bias)"
  },
  {
    "objectID": "rotorua.html#scatter-vs-reference",
    "href": "rotorua.html#scatter-vs-reference",
    "title": "Rotorua demo",
    "section": "Scatter vs reference",
    "text": "Scatter vs reference"
  },
  {
    "objectID": "rotorua.html#rolling-diagnostics-drift-thrugh-time",
    "href": "rotorua.html#rolling-diagnostics-drift-thrugh-time",
    "title": "Rotorua demo",
    "section": "Rolling diagnostics (drift thrugh time)",
    "text": "Rolling diagnostics (drift thrugh time)"
  },
  {
    "objectID": "rotorua.html#precipitation-event-agreement",
    "href": "rotorua.html#precipitation-event-agreement",
    "title": "Rotorua demo",
    "section": "Precipitation event agreement",
    "text": "Precipitation event agreement"
  },
  {
    "objectID": "rotorua.html#monthly-climatology-seasonal-structure",
    "href": "rotorua.html#monthly-climatology-seasonal-structure",
    "title": "Rotorua demo",
    "section": "Monthly climatology (seasonal structure)",
    "text": "Monthly climatology (seasonal structure)"
  },
  {
    "objectID": "rotorua.html#seasonal-performance-nzsouthern-hemisphere",
    "href": "rotorua.html#seasonal-performance-nzsouthern-hemisphere",
    "title": "Rotorua demo",
    "section": "Seasonal performance (NZ/Southern Hemisphere)",
    "text": "Seasonal performance (NZ/Southern Hemisphere)"
  },
  {
    "objectID": "rotorua.html#interactive-table",
    "href": "rotorua.html#interactive-table",
    "title": "Rotorua demo",
    "section": "Interactive table",
    "text": "Interactive table"
  },
  {
    "objectID": "timeseries_results.html",
    "href": "timeseries_results.html",
    "title": "Time-series",
    "section": "",
    "text": "This tab focuses on time-series comparisons so you can visually check alignment and stability across datasets."
  },
  {
    "objectID": "timeseries_results.html#time-series-overlays",
    "href": "timeseries_results.html#time-series-overlays",
    "title": "Time-series",
    "section": "Time-series overlays",
    "text": "Time-series overlays\nEach plot shows the reference (Airport) against targets for a single variable; use hover tooltips to inspect dates and values."
  },
  {
    "objectID": "timeseries_results.html#latest-daily-snapshot",
    "href": "timeseries_results.html#latest-daily-snapshot",
    "title": "Time-series",
    "section": "Latest daily snapshot",
    "text": "Latest daily snapshot\nQuick look at the most recent reported day from each dataset."
  },
  {
    "objectID": "methods.html",
    "href": "methods.html",
    "title": "Methods",
    "section": "",
    "text": "This section documents how the meteorological datasets were prepared, aligned, and compared so the workflow is transparent and repeatable."
  },
  {
    "objectID": "methods.html#data-sources",
    "href": "methods.html#data-sources",
    "title": "Methods",
    "section": "Data Sources",
    "text": "Data Sources\n\nDaily meteorological datasets were compiled for Lake Rotorua from ERA5‑Land reanalysis, the Limnotrack buoy (in‑situ) on Lake Rotorua, NIWA Airport_1770 observations, NIWA Town_40177 observations, and the NIWA Virtual Climate Station Network (VCS_On). ERA5 variables were extracted using aemetools::get_era5_land_point_nz, VCS and reference (Airport and town) data were downloaded manually (and separably at times - joined later in R) from NIWA “Earth Science New Zealand” datahub (click to access) and saved as CSV in “data/raw” folder. All datasets were standardised to common variable names (Temp_C, Precip_mm, Wind_Spd_ms, RadSWD_Wm2) with a shared Date field.\n\nSub‑daily records (5&15 minute buoy and hourly station data) were parsed in UTC and aggregated to daily values, using sums for fluxes (precipitation) and means for temperature, wind speed, and radiation. Radiation in MJ m⁻² was converted to W m⁻² using Rad_MJm2 * 1e6 / 86400 for daily totals and Rad_MJm2 * 1e6 / 3600 for hourly values prior to daily means. Buoy wind speeds were corrected for a documented unit change (knots to m/s before a switch date), and buoy precipitation was converted from mm hr⁻¹ to 5‑minute depth before aggregation. Historical buoy records (15‑minute) were aggregated to daily means, with known incorrect wind periods set to NA to keep a continuous date. Town_40177 and Airport_1770 were assembled from hourly radiation/temperature (daily means) plus daily wind and rain. VCS_On daily data were converted to numeric, with temperature computed as the mean of Tmin and Tmax. All daily datasets were written as aligned CSVs, which were then used to compare overlapping dates."
  },
  {
    "objectID": "methods.html#reference-site-justification",
    "href": "methods.html#reference-site-justification",
    "title": "Methods",
    "section": "Reference site justification",
    "text": "Reference site justification\nAirport station data were used as the primary reference because they are maintained, quality-controlled, and co-located near the lake with low data gaps over a longer period. All alternative sources (ERA5, VCSN, buoy, Town) were evaluated against this reference over their overlapping dates."
  },
  {
    "objectID": "methods.html#core-performance-metrics-and-formulas-paired-daily-values",
    "href": "methods.html#core-performance-metrics-and-formulas-paired-daily-values",
    "title": "Methods",
    "section": "Core performance metrics and formulas (paired daily values)",
    "text": "Core performance metrics and formulas (paired daily values)\nPearson correlation (r) (Pearson 1896) for overall co-variation (cor(obs, sim) ).\n\\[r = \\frac{\\sum_{i=1}^{n} (x_i - \\bar{x})(y_i - \\bar{y})}         {\\sqrt{\\sum_{i=1}^{n} (x_i - \\bar{x})^2 \\; \\sum_{i=1}^{n} (y_i - \\bar{y})^2}}\n\\]Pearson correlation coefficient between the reference series (obs; Airport_1770) and the target dataset (sim). Here, (x_i) denotes the reference value on day (i), (y_i) denotes the target value on day (i), and (\\bar{x}), (\\bar{y}) are their respective means over the overlap period (after removing missing values)\nLinear regression: Slope and intercept (scaling and offset bias) lm(sim ~obs)\n\\[\ny_i = \\beta_0 + \\beta_1 x_i + \\epsilon_i\n\\]\nLinear regression model used to estimate agreement between the reference series (obs; Airport_1770) and each target dataset (sim). Here, (x_i) is the reference value on day (i), (y_i) is the target value on day (i), (\\beta_0) is the intercept, (\\beta_1) is the slope, and (\\epsilon_i) is the residual error (using paired, non‑missing daily values).\nMAE: Mean absolute error mean(|sim-obs|).\n\\[\n\\mathrm{MAE} = \\frac{1}{n}\\sum_{i=1}^{n}\\left|\\,y_i - x_i\\,\\right|\n\\]Mean Absolute Error (MAE) between the reference series (obs; (x_i)) and the target series (sim; (y_i)) over the overlapping days. Here (n) is the number of paired, non‑missing daily observations.\nRMSE: Root mean square error sqrt(mean((sin-obs)^2)).\n\\[\n\\mathrm{RMSE} = \\sqrt{\\frac{1}{n}\\sum_{i=1}^{n}\\left(y_i - x_i\\right)^2}\n\\]\nRoot Mean Square Error (RMSE) between the reference series (obs; (x_i)) and the target series (sim; (y_i)) over the overlapping days. Here (n) is the number of paired, non‑missing daily observations.\nLin’s concordance correlation coefficient (CCC) to combine accuracy and precision (L. I.-K. Lin 1989). Values were interpreted under the McBride 2005 scale, where; &gt; 0.99: Almost perfect, 0.95–0.99: Substantial, 0.90–0.95: Moderate and &lt; 0.90: Poor strength of agreement (Rekasi 2024).\n\\[\n[\\text{CCC} = \\frac{2 r \\sigma_{obs} \\sigma_{sim}}{\\sigma_{obs}^2 + \\sigma_{sim}^2 + (\\mu_{obs} - \\mu_{sim})^2}]\n\\]\nBias mean(sim - obs), and relative bias if mean obs is non-zero.\nRelative bias: Expressed as percent (%) of mean observed, 100xbias/mean(obs)."
  },
  {
    "objectID": "methods.html#eventbased-performance-evaluated-using-referencedefined-subsets",
    "href": "methods.html#eventbased-performance-evaluated-using-referencedefined-subsets",
    "title": "Methods",
    "section": "Event‑based performance evaluated using reference‑defined subsets",
    "text": "Event‑based performance evaluated using reference‑defined subsets\nWet‑day precipitation metrics use Precip_mm &gt; 1 mm in the reference (set via wet_threshold_mm = 1), to assess performance on meaningful rain days.\nWindy‑day metrics use the top 10% of reference wind speeds (windy_top_pct = 0.10), i.e., the 90th percentile of the reference wind during the overlap period. (A fixed threshold of 10 m/s is coded as an alternative but not used in the current runs.)\nWet‑day and windy‑day subsets\nWet‑day metrics were computed only when the reference precipitation exceeded 1 mm (Airport_1770), to focus on meaningful rain events. Windy‑day metrics used the top 10% of reference wind speeds, defined by the 90th percentile of Airport_1770 during the overlap period; metrics were computed only on those high‑wind days.\nEvent‑agreement statistics for precipitation (threshold ≥ 0.1 mm/day, as set in the event‑skill section) include:\nHits (H) (ref event & target event), both obs and sim say “event”\nMisses (M) (ref event & target no event), obs says “event” but sim does not\nFalse alarms (FA), sim says “event” but obs does not\nCorrect negatives (CN), both say “no event”\nPOD (Probability of Detection) = H / (H + M)\n“Of the true events, how many did we catch?”\nFAR (False Alarm Ratio) = FA / (H + FA)\n“Of the predicted events, how many were false?”\nCSI (Critical Success Index) = H / (H + M + FA)\n“Overall event accuracy, ignoring correct negatives.”\nBias score = (H + FA) / (H + M)\n“Do we predict too many events (&gt;1) or too few (&lt;1)?”\nThese quantify detection performance separately from continuous error metrics."
  },
  {
    "objectID": "methods.html#rolling-diagnostics-logic",
    "href": "methods.html#rolling-diagnostics-logic",
    "title": "Methods",
    "section": "Rolling diagnostics logic",
    "text": "Rolling diagnostics logic\nTo detect drift through time, moving-window diagnostics (window = 30 days by default) track MAE, RMSE, bias, and correlation. The rolling window is trailing, uses only complete windows, and requires a minimum of paired values for correlation. These plots help identify regime shifts, seasonal dependence, or gradual timing offsets."
  },
  {
    "objectID": "methods.html#refernces-r-code",
    "href": "methods.html#refernces-r-code",
    "title": "Methods",
    "section": "Refernces R code",
    "text": "Refernces R code"
  },
  {
    "objectID": "index.html#project-description",
    "href": "index.html#project-description",
    "title": "Meterological Lake Comparison",
    "section": "Project description",
    "text": "Project description\nThis project aims to take meteorological data in close proximity from different sources/forcing choices (stations, grided, reanalysis) and evaluate their validity across variables and time.\nIt assesses four main meterological parameters (precipitation, wind, radiation, temperature) for accuracy, stability and usability. This was developed for the use of lymnologists with the purpose of selecting data sources for differing projects and attempts to answer the question “what data to use and when?”. The data sources used are Limnotrack Buoy in-situ, NIWA virtual climate station network (VCSN), ERA5 statlite data and NIWAs Observational climate data.\nLake Rotorua, North Island, New Zealand is used as a worked example thoughout."
  },
  {
    "objectID": "index.html#guide",
    "href": "index.html#guide",
    "title": "Meterological Lake Comparison",
    "section": "Guide",
    "text": "Guide\nThis project takes your though the overview of the project which addresses:\n\nThe objective, data sources and the project outputs so the reader can understand what they will get out of the process.\nThe methods, outlining the steps taken to prepare, align, and compare the metrological datasets.\nViriable diagnostics whcih shows time series plots to visulise data stability and alignment.\n\n\n\nMetrics and stats, which shows the statistical/quantitative diagnostics outlined in the overview.\nSeasonal and event behaviour, which shows seasonality preformance and dataset agreement during events.\nRotorua demo gives the reader a visual flow of the project using Lake Rotorua as the example lake.\nReproducibility talks through the reusability of this project when accessing different lakes around New Zealand.\n\nDesision of what data sets to use will depend on intended outcome. The objective tab will show outputs where the reader can decide how to use the project to answer their questions around meterological data sources."
  },
  {
    "objectID": "index.html#data-coverage-overview",
    "href": "index.html#data-coverage-overview",
    "title": "Meterological Lake Comparison",
    "section": "Data coverage overview",
    "text": "Data coverage overview"
  },
  {
    "objectID": "index.html#quick-look-metrics-table-reference-vs-targets",
    "href": "index.html#quick-look-metrics-table-reference-vs-targets",
    "title": "Meterological Lake Comparison",
    "section": "quick look Metrics table (reference vs targets)",
    "text": "quick look Metrics table (reference vs targets)"
  },
  {
    "objectID": "overview.html",
    "href": "overview.html",
    "title": "Meterological Source Comparison",
    "section": "",
    "text": "To analyse different meterological data avalable for a given location."
  },
  {
    "objectID": "overview.html#objective",
    "href": "overview.html#objective",
    "title": "Meterological Source Comparison",
    "section": "",
    "text": "To analyse different meterological data avalable for a given location."
  },
  {
    "objectID": "overview.html#data-sources",
    "href": "overview.html#data-sources",
    "title": "Meterological Source Comparison",
    "section": "Data sources",
    "text": "Data sources\nLimnotrack Buoy on lake, NIWA virtual climate station network (VCSN) , ERA5 statlite data, Observational data “Airport” station, Obresvational data “Town” station.\nData source and station names will vary from location to location. Selecting stations from these websites is laid out in the 02_prepare_raw_data script."
  },
  {
    "objectID": "overview.html#outputs",
    "href": "overview.html#outputs",
    "title": "Meterological Source Comparison",
    "section": "Outputs",
    "text": "Outputs\nThe outputs of this project will show:\n\nCorrelation coeficient (Pearsons r)\nChange in intercept and slope (linear regrassion slope and intercept)\nMean absolute error (MAE)\nRoot mean squared error (RMSE)\nConcordance (ccc)\nMean and realitive bias\nEvent score\nRolling window/drift\nProbability detection (POD)\nFalse alarm ration (FAR)\nCritical success index (CSI)\nThese metrics along with plots and diagnostics will answer bias questions, seasonal behaviour, event disagreement and extremes"
  },
  {
    "objectID": "overview.html#study-area",
    "href": "overview.html#study-area",
    "title": "Meterological Source Comparison",
    "section": "Study area",
    "text": "Study area\n\n\nCode\n# Note: Chage Quarto title Lat and lon to render your location of choice\nlibrary(leaflet)\n\n# Interactive overview map centred on the lake\nleaflet() |&gt;\n  addTiles() |&gt;\n  addCircles(\n    lng = params$lon,\n    lat = params$lat,\n    radius = params$buffer_km * 1000,\n    color = \"dodgerblue\",\n    fillOpacity = 0.25,\n    popup = params$lake_name\n  ) |&gt;\n  addCircleMarkers(\n    lng = params$lon,\n    lat = params$lat,\n    radius = 6,\n    color = \"navy\",\n    fillOpacity = 0.9,\n    popup = params$lake_name\n  ) |&gt;\n  setView(lng = params$lon, lat = params$lat, zoom = 11)"
  },
  {
    "objectID": "overview.html#polygon-and-plot",
    "href": "overview.html#polygon-and-plot",
    "title": "Meterological Source Comparison",
    "section": "Polygon and plot",
    "text": "Polygon and plot\n\n\nCode\nlibrary(osmdata)\nlibrary(sf)\nlibrary(tmap)\nlibrary(rnaturalearth)\nlibrary(rnaturalearthdata)\nlibrary(dplyr)\nlibrary(tibble)  # for tribble()\n\n# Download nearby water polygons to outline the lake\noptions(timeout = 10)\nbb &lt;- c(\n  params$lon - 0.1,\n  params$lat - 0.1,\n  params$lon + 0.1,\n  params$lat + 0.1\n)\n\nosm_lake &lt;- tryCatch(\n  opq(bbox = bb) |&gt;\n    add_osm_feature(key = \"natural\", value = \"water\") |&gt;\n    osmdata_sf(),\n  error = function(e) NULL\n)\n\nlake_poly &lt;- NULL\nif (!is.null(osm_lake) &&\n    !is.null(osm_lake$osm_multipolygons) &&\n    nrow(osm_lake$osm_multipolygons) &gt; 0) {\n  lake_poly &lt;- st_make_valid(osm_lake$osm_multipolygons)\n}\n\n# Fallback: if no polygon returned (or OSM query failed), use the bounding box\nif (is.null(lake_poly) || nrow(lake_poly) == 0) {\n  lake_poly &lt;- st_polygon(list(rbind(\n    c(bb[1], bb[2]),\n    c(bb[3], bb[2]),\n    c(bb[3], bb[4]),\n    c(bb[1], bb[4]),\n    c(bb[1], bb[2])\n  ))) |&gt;\n    st_sfc(crs = 4326) |&gt;\n    st_as_sf()\n}\n \n\n# Change lon and lat to render your location of choice \n#change names to match locations\n# Station metadata (decimal degrees)\nstations &lt;- tribble(\n  ~name,           ~lon,       ~lat,       \n  \"Airport_1770\",  176.31481, -38.10592,  \n  \"ERA5\",          176.316662,-38.114908,  \n  \"Buoy\",          176.2653,  -38.0740,    \n  \"Town_40177\",    176.2578,  -38.14635,   \n  \"VCS_On\",        176.275,   -38.075\n)\nstations &lt;- stations |&gt;\n  mutate(name = trimws(name))\n\n#Change names to match your Data set where nessesary\nstation_palette &lt;- c(\n  Airport_1770 = \"black\",\n  ERA5         = \"#d95f02\",\n  Buoy         = \"#7570b3\",\n  Town_40177   = \"#f0c400\",\n  VCS_On       = \"#1b9e77\"\n)\n\nstations &lt;- stations |&gt;\n  filter(!is.na(name), name %in% names(station_palette)) |&gt;\n  mutate(name = factor(name, levels = names(station_palette)))\n\nstations_sf &lt;- st_as_sf(stations, coords = c(\"lon\", \"lat\"), crs = 4326)\n\n\n# Use combined extent of lake + stations, with a small buffer (degrees)\nmap_extent &lt;- st_union(lake_poly, st_geometry(stations_sf)) |&gt;\n  st_bbox() |&gt;\n  st_as_sfc() |&gt;\n  st_buffer(dist = 0.005)   # shrink/expand to taste\n\ntmap_mode(\"plot\")\n\ntm_shape(lake_poly, bbox = st_bbox(map_extent)) +\n  tm_fill(col = \"blue\", alpha = 0.6) +\n  tm_borders(col = \"black\") +\n  tm_shape(stations_sf) +\n  tm_symbols(\n    col = \"name\",\n    palette = station_palette,\n    shape = 21,\n    size = 1,\n    border.col = \"black\"\n  ) +\n  tm_compass(\n    type = \"arrow\",\n    position = c(\"left\", \"top\"),\n    color.dark = \"black\",\n    color.light = \"gray80\"\n  ) +\n  tm_scale_bar(position = c(\"left\", \"bottom\")) +\n  tm_layout(\n    title = params$lake_name,\n    frame = FALSE,\n    legend.outside = TRUE,\n    legend.title.size = 0.8,\n    legend.text.size = 0.7,\n    legend.format = list(digits = 2)\n  )"
  },
  {
    "objectID": "behaviour_results.html",
    "href": "behaviour_results.html",
    "title": "Seasonal and Event Behaviour",
    "section": "",
    "text": "This page focuses on behaviour: when datasets agree on events, where they miss each other (zeros vs non-zeros, timing offsets, extremes), and how seasonality shows up."
  },
  {
    "objectID": "behaviour_results.html#precipitation-event-structure",
    "href": "behaviour_results.html#precipitation-event-structure",
    "title": "Seasonal and Event Behaviour",
    "section": "Precipitation event structure",
    "text": "Precipitation event structure\nThe following plots show how precipitation volumes and timing align across datasets.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCumulative distribution functions (CDFs) of daily precipitation for each dataset relative to the reference. Curves further to the right indicate heavier tails (more high‑rain days), while curves higher at low precipitation indicate more light‑rain or dry days.\nERA5’s curve is shifted rightward, indicating more frequent moderate–high rainfall (wet bias). The buoy curve rises faster at low precipitation, indicating fewer heavy‑rain days and a tendency toward under‑reporting. Town_40177 and VCS_On track the reference most closely across the distribution, suggesting better alignment in both light and heavy rain frequencies.\n\n\n\n\n\n\n\n\n\nHistograms of daily precipitation on wet days only (reference&gt; 1 mm), shown separately for each dataset. This removes zero‑inflation and highlights agreement in the distribution of event magnitudes.\nERA5 shows the broadest distribution and the longest upper tail, consistent with overestimation of heavier events. Town_40177 and VCS_On align more closely with the reference shape, indicating better magnitude agreement on wet days. The buoy distribution is compressed toward lower totals, indicating underestimation of event magnitudes."
  },
  {
    "objectID": "behaviour_results.html#event-detection-and-mismatches",
    "href": "behaviour_results.html#event-detection-and-mismatches",
    "title": "Seasonal and Event Behaviour",
    "section": "Event detection and mismatches",
    "text": "Event detection and mismatches\nUse these to spot zero vs non‑zero disagreements, misses/false alarms, and timing offsets during wet events. POD: Probability detection FAR: False alarm ratio CSI: Critical success inder Bias score:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nStacked counts of precipitation event outcomes (threshold ≥ 0.1 mm/day) for each dataset relative to the reference.\nERA5 produces many hits but also the largest false‑alarm count, while Town_40177 shows the most balanced outcomes (high hits, low false alarms). VCS_On is conservative (few false alarms but more misses), and Buoy has fewer hits overall.\n\n\n\n\n\n\n\n\n\nEvent‑detection skill for precipitation ≥ 0.1 mm/day.\nTown_40177 has the highest CSI and low FAR, indicating the most robust event agreement. ERA5 shows the highest POD but also the highest FAR and bias_score (&gt;1), reflecting over‑prediction. VCS_On is conservative (low FAR, lower POD), and Buoy has the weakest skill overall.\n\n\n\n\n\n\n\n\n\nDistribution of false‑alarm precipitation amounts (ref ≤ 0.1 mm/day, target &gt; 0.1 mm/day) on a log1p scale.\nERA5 shows the largest and most frequent false‑alarm magnitudes, while Town_40177 and VCS_On are more constrained. Buoy contributes few false alarms but also fewer detected events overall.\nERA5 has very high POD (0.95) but high FAR (0.42) and bias_score &gt; 1 (1.64), meaning it detects most events but over‑predicts rain (many false alarms). Town_40177 shows the best balance: high POD (0.86), low FAR (0.08), and the highest CSI (0.795), indicating the most reliable event agreement overall. VCS_On has low FAR (0.024) but a lower POD (0.75), indicating it is conservative—it misses more events but rarely produces false alarms. Buoy is least reliable for event detection: lower POD (0.60) and CSI (0.548) despite a moderate FAR. False‑alarm magnitudes (when ref ≤ 0.1 mm):\nERA5 false alarms are numerous and span large magnitudes, indicating systematic wet bias. Town_40177 and VCS_On false alarms are fewer and generally smaller. Buoy has the fewest false alarms but also the poorest detection rate."
  },
  {
    "objectID": "behaviour_results.html#seasonal-behaviour",
    "href": "behaviour_results.html#seasonal-behaviour",
    "title": "Seasonal and Event Behaviour",
    "section": "Seasonal behaviour",
    "text": "Seasonal behaviour\nClimatology and seasonal bias plots highlight over/under-capture of extremes across the year.\n\n\n\n\n\n\n\n\n\nMonthly climatology of daily temperature (°C) for each dataset, showing monthly means (lines) and interquartile ranges (shaded bands 25 and 75). Airport_1770 is the reference; other datasets are overlaid to highlight seasonal offsets and variability. Showing any systematic seasonal bias in mean and variability. Uses overlap with reference dates to ensure fair comparison. \nAll datasets reproduce the same seasonal cycle (summer peak, winter minimum). ERA5 is consistently cooler than the reference, while Buoy and VCS_On are warmer. Town_40177 tracks the airport most closely across all months. IQR bands broadly overlap, indicating similar seasonal variability, but the persistent offsets indicate systematic seasonal bias rather than random error.\n\n\n\n\n\n\n\n\n\nMonthly climatology of daily wind speed (m s⁻¹), with monthly means and IQR shading. Differences in mean level and spread reveal seasonal wind biases relative to the reference.\nAll datasets show higher winds in spring–summer and lower in winter, but the magnitude differs. ERA5 is consistently lower than the reference across all months (systematic low bias). Buoy and VCS_On are higher than the reference, while Town_40177 is slightly low but closer. The Buoy and VCS_On bands are wider, suggesting greater variability or local effects.\n\n\n\n\n\n\n\n\n\nMonthly climatology of daily precipitation (mm) for each dataset, showing monthly means and IQRs. This highlights seasonal rainfall patterns and dataset‑specific wet biases.\nAll datasets show a winter–spring enhancement and a relative summer minimum, but the magnitude differs substantially. ERA5 is consistently wetter than the reference across months, while Buoy is markedly drier. Town_40177 aligns closely with the airport, and VCS_On is slightly wetter in several months. Wider IQRs for ERA5 indicate more variability and heavier tails.\n\n\n\n\n\n\n\n\n\nSeasonal mean temperature bias (target − reference) with interquartile ranges. Positive values indicate warm bias; negative values indicate cool bias.\nERA5 is cool‑biased in all seasons, strongest in spring. Buoy shows a warm bias in all seasons, especially autumn/winter. Town_40177 is near zero in every season (best match). VCS_On is consistently warm‑biased but smaller than Buoy.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nSeasonal scatter plots of daily wind speed comparing each dataset to the reference dataset. Dashed lines indicate 1:1 agreement; solid lines are fitted regressions. Rows represent seasons; columns represent datasets.\nTown_40177 and VCS_On show tighter clustering around the 1:1 line across seasons, indicating stronger agreement. ERA5 shows systematic underestimation (regression slope &lt; 1) in all seasons, especially at higher winds. Buoy shows reasonable agreement but with more spread in summer and spring.\n\n\n\n\n\n\n\n\n\nSeasonal scatter plots of daily precipitation comparing each dataset to Airport_1770. Dashed lines show 1:1 agreement and solid lines show fitted regressions.\nInterpretation Town_40177 and VCS_On are closest to the 1:1 line in all seasons, indicating the best precipitation agreement. ERA5 tends to overestimate moderate and heavy events (slope &gt; 1), while Buoy underestimates rainfall across seasons and shows the greatest dispersion at higher totals."
  },
  {
    "objectID": "metrics_stats_results.html",
    "href": "metrics_stats_results.html",
    "title": "Metrics and Statistics",
    "section": "",
    "text": "This tab gathers the quantitative diagnostics (coverage, MAE/RMSE/CCC/bias, distributions, scatter, rolling drift). Use it when you want numbers and concise plots for statistical agreement.\n++++++++++ to look at below Example: ERA5 vs Airport for precipitation where ap1770\\(precip_mm = refernce \"obs\" series ear5\\)precip_mm = dataset we are evaluating “sim” mertrics_all uses every day where both datasets have values (after NA removal) (baseline overall preformance) metrics_wet uses only days where the reference has “meaningful rain”:if threshold_mm = 1, it keeps days where ap1770\\(Precip_mm &gt; 1.\nThis answers: “How well does ERA5 match rainy days?”(which usually matters more for modelling than dry days).\nmetrics_windy  uses only days where the reference indictes high wind :if threshold_ms = 10, it keeps days where ap1770\\)Wind_Spd_ms &gt;=10. This answers: “How well does ERA5 match wind-storm days?” matters because correlation may look high but preform poorly in seasonal extremes, wind and rain heavy events === (findinf out what the best met source is and when) to look at above ========"
  },
  {
    "objectID": "metrics_stats_results.html#coverage-summary",
    "href": "metrics_stats_results.html#coverage-summary",
    "title": "Metrics and Statistics",
    "section": "Coverage summary",
    "text": "Coverage summary\nThe table below shows the available date range and count per dataset."
  },
  {
    "objectID": "metrics_stats_results.html#metrics-table-mae-rmse-ccc-bias",
    "href": "metrics_stats_results.html#metrics-table-mae-rmse-ccc-bias",
    "title": "Metrics and Statistics",
    "section": "Metrics table (MAE, RMSE, CCC, bias)",
    "text": "Metrics table (MAE, RMSE, CCC, bias)\nIncludes all days plus wet-day and windy-day subsets where relevant. Sort/filter to focus on a variable or subset."
  },
  {
    "objectID": "metrics_stats_results.html#temperature-temp_c",
    "href": "metrics_stats_results.html#temperature-temp_c",
    "title": "Metrics and Statistics",
    "section": "Temperature (Temp_C)",
    "text": "Temperature (Temp_C)\nTown_40177 shows near‑perfect agreement with Airport_1770 (R=0.99, RMSE=0.48, bias ~0), clearly the best performer. ERA5 is strong but cool‑biased (R=0.95, RMSE=1.42, bias −0.53). Buoy and VCS_On are similar in correlation (R≈0.92–0.91) with modest warm biases (bias +0.87 and +0.48, RMSE ~1.8)."
  },
  {
    "objectID": "metrics_stats_results.html#precipitation-precip_mm",
    "href": "metrics_stats_results.html#precipitation-precip_mm",
    "title": "Metrics and Statistics",
    "section": "Precipitation (Precip_mm)",
    "text": "Precipitation (Precip_mm)\nVCS_On and Town_40177 show the best overall agreement (R=0.95 and 0.93; RMSE 3.68 and 4.08), with small biases. ERA5 has moderate skill but overestimates rain (R=0.74, RMSE=8.87, bias +2.62). Buoy performs weakest (R=0.61, RMSE=10.03, bias −2.99). On wet days (&gt;1 mm), performance drops for all datasets; VCS_On remains strongest (R=0.93, RMSE=6.48), Town_40177 is close (R=0.91, RMSE=6.83), while ERA5 and Buoy degrade substantially."
  },
  {
    "objectID": "metrics_stats_results.html#wind-speed-wind_spd_ms",
    "href": "metrics_stats_results.html#wind-speed-wind_spd_ms",
    "title": "Metrics and Statistics",
    "section": "Wind speed (Wind_Spd_ms)",
    "text": "Wind speed (Wind_Spd_ms)\nOn all days, Town_40177 has the highest correlation (R=0.885) but a negative bias (−0.81); VCS_On has the lowest RMSE (0.93) and near‑zero bias (+0.14). Buoy is moderate (R=0.78, RMSE=1.29, bias +0.65). ERA5 is weakest (R=0.61, RMSE=1.95, bias −1.49). In the top 10% windy subset, all datasets degrade sharply; Town_40177 retains the highest R (0.73) but still underestimates extremes, VCS_On has the lowest RMSE (1.50), Buoy is weakly correlated, and ERA5 performs poorest (R=0.20, RMSE=3.71, bias −3.46)."
  },
  {
    "objectID": "metrics_stats_results.html#distribution-and-bias-shape",
    "href": "metrics_stats_results.html#distribution-and-bias-shape",
    "title": "Metrics and Statistics",
    "section": "Distribution and bias shape",
    "text": "Distribution and bias shape\nDensity distribution overlays show bias or spread differences\n\n\n\n\n\n\n\n\n\nDensity distribution overlays of daily temperature (°C) for each dataset on the overlapping period with the reference dataset. Shifts in the curves indicate systematic warm/cool bias; differences in tail thickness indicate changes in variability or extremes.\nThe distributions are broadly similar, but ERA5 is shifted slightly cooler (left of the reference), while Buoy and VCS_On are shifted warmer (right of the reference). Town_40177 most closely overlaps the reference distribution. Differences in tail thickness suggest small changes in variability, but the overall temperature range is consistent.\n\n\n\n\n\n\n\n\n\nDensity distribution overlays of daily wind speed (m s⁻¹) for each dataset on the overlapping period with the reference. The reference distribution is shown for comparison.\nERA5 is shifted to lower wind speeds, indicating a systematic low‑wind bias. Buoy and VCS_On have heavier right tails than the reference, suggesting higher frequency of moderate–strong winds. Town_40177 is closest to the reference peak but slightly under‑represents higher winds.\n\n\n\n\n\n\n\n\n\nHistogram of daily precipitation (mm) for all datasets, including dry days (zero‑inflated). This highlights differences in event frequency and the heavy‑tail behavior of rainfall extremes.\nAll datasets are strongly zero‑inflated, but ERA5 shows a longer right tail and more moderate rainfall counts, consistent with wet bias. Buoy has fewer non‑zero counts, indicating under‑detection of rainfall. Town_40177 and VCS_On are closer to the reference, with similar tails and event frequencies."
  },
  {
    "objectID": "metrics_stats_results.html#scatter-vs-reference-11",
    "href": "metrics_stats_results.html#scatter-vs-reference-11",
    "title": "Metrics and Statistics",
    "section": "Scatter vs reference (1:1)",
    "text": "Scatter vs reference (1:1)\nCheck linear agreement and systematic bias; points should cluster along the 1:1 line.\n\n\n\n\n\n\n\n\n\nScatter plots of daily temperature (°C) for each dataset against the Airport_1770 reference. The dashed line indicates 1:1 agreement and the solid line is the fitted regression. All datasets show strong linear relationships; Town_40177 has the tightest agreement and minimal bias, ERA5 shows a small cool bias, and Buoy/VCS_On show modest warm biases. Each panel reports n, R, RMSE, and bias.\nTemperature agreement is strong across all datasets, with near‑linear relationships. Town_40177 has near‑perfect agreement (R≈0.99, very low RMSE and near‑zero bias). ERA5 shows high correlation and low RMSE with a small cool bias. Buoy and VCS_On remain strongly correlated but show warm biases relative to the airport.\n\n\n\n\n\n\n\n\n\nScatter plots of daily wind speed (m s⁻¹) for each dataset against the Airport_1770 reference. The dashed line indicates 1:1 agreement and the solid line is the fitted regression. Town_40177 and VCS_On show the highest correlations and lowest errors, while Buoy exhibits a modest positive bias and ERA5 shows a pronounced negative bias with the largest RMSE. Sample size (n), correlation (R), RMSE, and bias are reported in each panel.\nAll datasets show positive associations with the airport reference, but performance differs. Town_40177 and VCS_On show the strongest correlations and lowest errors, with regression lines closest to the 1:1 line. Buoy shows moderate correlation and a positive bias (overestimation), while ERA5 shows weaker correlation and a strong negative bias (underestimation) with the largest RMSE among the four.\n\n\n\n\n\n\n\n\n\nScatter plots of daily precipitation (mm) for each dataset against the Airport_1770 reference. The dashed line is 1:1 agreement; the solid line is the fitted regression. VCS_On and Town_40177 show the highest correlations and lowest RMSE, ERA5 shows moderate agreement with a positive bias, and Buoy shows the weakest agreement and the largest error. Panel annotations report n, R, RMSE, and bias.\nRainfall agreement is highly variable across datasets. VCS_On and Town_40177 show the strongest linear agreement (high R, low RMSE), with regression lines close to 1:1. ERA5 shows moderate skill but a positive bias (overestimation). Buoy has the weakest agreement, largest RMSE, and a negative bias, reflecting poorer correspondence with the airport precipitation."
  },
  {
    "objectID": "metrics_stats_results.html#rolling-diagnostics-drift-through-time",
    "href": "metrics_stats_results.html#rolling-diagnostics-drift-through-time",
    "title": "Metrics and Statistics",
    "section": "Rolling diagnostics (drift through time)",
    "text": "Rolling diagnostics (drift through time)\nRolling diagnostics reveal gradual offsets or drift through time (look for breaks away from 0 bias or a changing correlation). This answers “does it shift seasonally?”\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRolling 30‑day diagnostics for daily temperature (°C) comparing ERA5, Town, VCSN, Buoy data sources to the Airport_1770 reference. Panels show 30‑day moving bias (ERA5 − Airport), Pearson correlation (cor), mean absolute error (MAE), and Root mean square error (RMSE)."
  },
  {
    "objectID": "metrics_stats_results.html#era5",
    "href": "metrics_stats_results.html#era5",
    "title": "Metrics and Statistics",
    "section": "ERA5",
    "text": "ERA5\nThe bias is consistently negative, indicating ERA5 is cooler than the airport on average. Correlation remains moderate to high with intermittent dips, while MAE/RMSE show modest oscillations without extreme spikes, suggesting stable but slightly biased performance.\nPersistent cool bias: ERA5 temperatures are systematically lower than Airport_1770 across the record. Stable agreement: Correlation is generally strong with short‑lived decreases, indicating good temporal tracking most of the time. Moderate error levels: MAE/RMSE remain relatively steady with small oscillations, indicating consistent performance rather than episodic failures. Implication: ERA5 is suitable for temperature variability but should be bias‑corrected for absolute values."
  },
  {
    "objectID": "metrics_stats_results.html#buoy",
    "href": "metrics_stats_results.html#buoy",
    "title": "Metrics and Statistics",
    "section": "Buoy",
    "text": "Buoy\nBias is mostly positive, indicating the buoy is generally warmer than the airport, with two pronounced negative excursions that coincide with sharp drops in correlation and spikes in MAE/RMSE. Outside these events, correlation is high and errors are low, suggesting strong agreement.\nWarm bias overall: Buoy temperatures tend to exceed airport temperatures. Two distinct anomalies: Short periods show large negative bias and severe error spikes, consistent with data issues or local effects. High consistency otherwise: Correlation is typically high and errors small outside the anomalies. Implication: Buoy temperature is reliable for most of the record, but flagged anomaly windows should be excluded or corrected."
  },
  {
    "objectID": "metrics_stats_results.html#town",
    "href": "metrics_stats_results.html#town",
    "title": "Metrics and Statistics",
    "section": "Town",
    "text": "Town\nBias is near zero for much of the record, indicating close agreement, but a pronounced late‑record negative bias coincides with a drop in correlation and sharp increases in MAE/RMSE. This indicates a localized period of degraded performance.\nNear‑zero bias for most years: Town station closely matches the airport on average. Late‑record deterioration: A marked negative shift appears near the end of the series, with a concurrent increase in error and reduced correlation. Strong correlation overall: Temporal coherence is high except during the late anomaly. Implication: Town_40177 is generally consistent with the airport, but recent data should be checked for change or quality issues."
  },
  {
    "objectID": "metrics_stats_results.html#vcsn",
    "href": "metrics_stats_results.html#vcsn",
    "title": "Metrics and Statistics",
    "section": "VCSN",
    "text": "VCSN\nBias is consistently positive, indicating VCS_On is warmer on average. Correlation is moderate and variable with frequent dips, while MAE/RMSE display recurring oscillations without extreme spikes, suggesting stable but less tightly aligned agreement than station‑station comparisons.\nConsistent warm bias: VCS_On temperatures exceed airport values across the record. Moderate correlation: Agreement in day‑to‑day variability is weaker and more variable than the station comparisons. Stable error magnitudes: Errors fluctuate cyclically but lack large outliers. Implication: VCS_On can represent temperature trends but benefits from bias correction and cautious use for daily‑scale accuracy.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRolling 30‑day diagnostics for daily wind speed (m s⁻¹) comparing Town_40177, ERA5, VSCN and Buoy data to the Airport_1770 reference. Each panel shows the 30‑day moving statistic of (top) mean bias (dataset − Airport), (second) Pearson correlation, (third) mean absolute error (MAE), and (bottom) root mean squared error (RMSE)."
  },
  {
    "objectID": "metrics_stats_results.html#town-wind",
    "href": "metrics_stats_results.html#town-wind",
    "title": "Metrics and Statistics",
    "section": "Town wind",
    "text": "Town wind\nFor the Town source the bias series is persistently negative, indicating a systematic low bias in Town_40177 relative to Airport_1770. Correlation remains high for most of the record but exhibits intermittent drops, coinciding with short periods of increased MAE/RMSE. Error magnitudes are generally modest but show episodic spikes, suggesting periods of reduced agreement that are transient rather than sustained. Key points for a Results section (based on the plot)\nConsistent negative bias: The rolling bias remains below zero throughout the record, indicating Town_40177 systematically underestimates wind speed relative to Airport_1770. Generally strong temporal agreement: Correlation is typically high (near the upper range of the axis), implying that day‑to‑day variability is captured well most of the time. Intermittent degradation: Several short intervals show sharp drops in correlation accompanied by peaks in MAE and RMSE, indicating brief periods of poorer agreement. Errors are episodic, not persistent: MAE/RMSE spikes appear as isolated events rather than long‑term shifts, suggesting the overall relationship is stable but occasionally disrupted (e.g., by local site effects or data issues). Practical implication: Town_40177 is suitable for capturing wind variability trends, but absolute values should be bias‑corrected if used for magnitude‑sensitive applications. ## ERA5 Wind For the ERA5 source the bias is consistently negative across the record, indicating systematic underestimation of wind speed by ERA5. Correlation fluctuates around moderate values with frequent short‑lived drops, while MAE and RMSE exhibit pronounced seasonal‑scale oscillations and episodic peaks, indicating time‑varying agreement rather than a stable error structure.\nPersistent low bias: ERA5 wind speeds are consistently below the airport reference (negative bias throughout), suggesting a systematic underestimation. Moderate, variable correlation: Agreement in day‑to‑day variability is weaker and more volatile than the station‑to‑station comparison, with frequent dips in correlation. Pronounced temporal structure in errors: MAE/RMSE show clear oscillatory behavior and repeated peaks, indicating seasonally varying performance. Episodic degradation: Several short windows show sharp drops in correlation and elevated errors, implying transient mismatches or regime‑dependent performance. Implication: ERA5 is useful for capturing broader temporal patterns in wind but should be bias‑corrected and evaluated seasonally before use in applications sensitive to wind magnitude."
  },
  {
    "objectID": "metrics_stats_results.html#vcsn-1",
    "href": "metrics_stats_results.html#vcsn-1",
    "title": "Metrics and Statistics",
    "section": "VCSN",
    "text": "VCSN\nBias shifts over time from slightly positive in the early record toward near‑zero and then slightly negative values, indicating a gradual drift in mean offset. Correlation remains moderate to high with intermittent dips, while MAE/RMSE display recurring oscillations without large spikes.\nSlow bias drift: Mean bias trends from positive to slightly negative across the record, indicating gradual change in relative wind magnitude. Consistent but variable correlation: Correlation is generally moderate–high with periodic drops, reflecting time‑varying agreement. Stable error magnitudes: MAE/RMSE show cyclical variability but no extreme excursions, suggesting steady performance without major anomalies. Implication: VCS_On captures wind variability reasonably well, but bias may need time‑dependent adjustment."
  },
  {
    "objectID": "metrics_stats_results.html#buoy-1",
    "href": "metrics_stats_results.html#buoy-1",
    "title": "Metrics and Statistics",
    "section": "Buoy",
    "text": "Buoy\nA pronounced early‑record anomaly is evident as a sharp negative bias, collapse in correlation, and a simultaneous spike in MAE/RMSE. Outside this episode, bias remains small and positive, correlation is generally high, and errors are comparatively low with occasional minor excursions.\nEarly anomaly dominates: A short early interval shows extreme disagreement (large negative bias, correlation collapse, large MAE/RMSE), indicating a likely data issue or calibration mismatch in that period. Otherwise strong agreement: After the anomaly, correlation stays high and error levels are low, implying good temporal coherence between buoy and airport winds. Small systematic bias: The buoy shows a slight positive bias relative to the airport in the stable period. Transient deviations only: Later deviations are modest and short‑lived, suggesting the relationship is stable after initial issues."
  },
  {
    "objectID": "reproducibility.html",
    "href": "reproducibility.html",
    "title": "Reproducibility / How to reuse",
    "section": "",
    "text": "Use this guide to rerun the Rotorua workflow or adapt it to a new lake. The project flow is:\nThis page separates required changes to scripts (data prep and helper code) from changes to QMDs/YAML (report configuration)."
  },
  {
    "objectID": "reproducibility.html#setup-once-per-machine",
    "href": "reproducibility.html#setup-once-per-machine",
    "title": "Reproducibility / How to reuse",
    "section": "Setup (once per machine)",
    "text": "Setup (once per machine)\n\nInstall R (&gt;= 4.4) and Quarto.\nFrom the project root, run scripts/00_project_setup.R to restore renv and required GitHub packages.\nIf renv::restore() fails (offline), set a reachable CRAN mirror with options(repos = ...) and try again."
  },
  {
    "objectID": "reproducibility.html#changes-for-a-new-lake-scripts",
    "href": "reproducibility.html#changes-for-a-new-lake-scripts",
    "title": "Reproducibility / How to reuse",
    "section": "Changes for a new lake: scripts",
    "text": "Changes for a new lake: scripts\nMake these edits in scripts if you want to re-use the pipeline for another lake. These changes affect data creation and helper defaults.\nscripts/02_prepare_raw_data.R\n\nUpdate the raw file paths under data/raw/ to your new lake folders and filenames.\nUpdate station IDs in file paths and any column name mappings that differ.\nKeep the UTC conversion and daily aggregation rules, using means for state variables (Temp_C, Wind_Spd_ms, RadSWD_Wm2) and sums for flux variables (Precip_mm).\nKeep or update unit conversions, including wind knots to m/s if needed, sub-daily precip rates to daily totals, and radiation MJ/m^2 to W/m^2 when required.\nUpdate any bad-data filtering to match your lake (e.g., remove known corrupt periods).\nUpdate the output filenames at the end so they match your new lake ID (for example: data/processed/&lt;lake_id&gt;_era5_daily.csv, data/processed/&lt;lake_id&gt;_vcs_on_daily.csv, plus station/buoy files as applicable).\n\nscripts/03_analysis_helpers.R\n\nThis file currently reads Rotorua processed data when sourced.\nIf you are not keeping Rotorua files, update the file paths to your new lake or remove/guard those read lines so sourcing does not error.\nThe metrics functions (metrics_vs_ref) are reusable and do not need changes unless you change variable names.\n\nscripts/04_analysis_plotting.R\n\nThis file also reads Rotorua processed data when sourced.\nIf you are not keeping Rotorua files, update those read paths or guard them.\nUpdate ref_df, targets_list, and target_colors defaults if your reference/targets have different names.\nPlot functions are reusable. They assume column names Date, Temp_C, Precip_mm, Wind_Spd_ms, RadSWD_Wm2.\n\nscripts/05_analysis_rotorua_plots.R\n\nRotorua-specific example driver. Update only if you want to run a stand-alone script for a new lake. The QMDs do not depend on this file."
  },
  {
    "objectID": "reproducibility.html#changes-for-a-new-lake-qmd-yaml",
    "href": "reproducibility.html#changes-for-a-new-lake-qmd-yaml",
    "title": "Reproducibility / How to reuse",
    "section": "Changes for a new lake: QMD + YAML",
    "text": "Changes for a new lake: QMD + YAML\nThese edits control the rendered report and are required even if you only update the scripts.\nparams.yml (optional single source of truth)\n\nThis file contains params: used by QMDs if you remove local params blocks.\nIf you keep local params inside each QMD (current setup), update them in each QMD instead.\n\nQMD front matter\nUpdate these in each of: index.qmd, Overview.qmd, Results.qmd, metrics_stats.qmd, Behaviour.qmd, rotorua.qmd:\n\nlake_name, lat, lon, buffer_km, lake_id\nreference and targets\nvars and thresholds (wet_threshold_mm, precip_event_threshold, windy_top_pct, windy_threshold_ms, window_days)\nIn Overview.qmd, update any station/point coordinates and labels used for the map.\n\nQMD file_map blocks\nEach of the QMDs listed above contains a file_map &lt;- list(...) block. Update those paths to your new processed files.\nQMD plot calls\nSome plots are hard-coded to specific variables (Temp, Wind, Precip). If you remove variables or change the reference name:\n\nWrap plot calls with checks like if (\"Temp_C\" %in% vars) ... to avoid errors.\nPass ref_name = params$reference into plot functions if your reference is not Airport_1770.\n\n**_quarto.yml**\n\nAdd or remove QMD files in the project.render list if you change page names.\nThe site outputs to docs/ by default."
  },
  {
    "objectID": "reproducibility.html#step-by-step-new-lake-run",
    "href": "reproducibility.html#step-by-step-new-lake-run",
    "title": "Reproducibility / How to reuse",
    "section": "Step-by-step: new lake run",
    "text": "Step-by-step: new lake run\n\nPlace raw files under data/raw/&lt;your_lake&gt;/....\nEdit scripts/02_prepare_raw_data.R for your new lake and run it to create data/processed/&lt;lake_id&gt;_*.csv.\nUpdate the QMD params and file_map blocks to point at your new processed files.\nRender the site: quarto render."
  },
  {
    "objectID": "reproducibility.html#example-lake-tutera-template",
    "href": "reproducibility.html#example-lake-tutera-template",
    "title": "Reproducibility / How to reuse",
    "section": "Example: Lake Tutera (template)",
    "text": "Example: Lake Tutera (template)\nUse this as a starting point for naming and params:\nlake_name: \"Lake Tutera\"\nlat: -39.223588\nlon: 176.892553\nbuffer_km: 10\nlake_id: \"tutera\"\nreference: \"Airport_XXXX\"\ntargets: [\"ERA5\", \"VCS_On\"]\nvars: [\"Temp_C\", \"Precip_mm\", \"Wind_Spd_ms\", \"RadSWD_Wm2\"]\nwet_threshold_mm: 1\nprecip_event_threshold: 0.1\nwindy_top_pct: 0.10\nwindy_threshold_ms: 10\nwindow_days: 30\nExample processed filenames:\n\ndata/processed/tutera_era5_daily.csv\ndata/processed/tutera_vcs_on_daily.csv\ndata/processed/tutera_airport_XXXX_daily.csv"
  },
  {
    "objectID": "reproducibility.html#minimal-run-two-datasets-only-era5-vcs_on",
    "href": "reproducibility.html#minimal-run-two-datasets-only-era5-vcs_on",
    "title": "Reproducibility / How to reuse",
    "section": "Minimal run: two datasets only (ERA5 + VCS_On)",
    "text": "Minimal run: two datasets only (ERA5 + VCS_On)\n\nSet reference to the dataset you want as the benchmark (e.g., VCS_On).\nSet targets: [\"ERA5\"].\nIn each QMD file_map, keep only those two files (plus the reference file if it is separate).\nUpdate any plot calls or titles that still say Airport_1770 to use params$reference.\n\nThis will produce the same metrics, plots, and diagnostics, but only for the chosen pair."
  },
  {
    "objectID": "reproducibility.html#minimal-run-one-variable-only",
    "href": "reproducibility.html#minimal-run-one-variable-only",
    "title": "Reproducibility / How to reuse",
    "section": "Minimal run: one variable only",
    "text": "Minimal run: one variable only\n\nSet vars to a single variable (e.g., [\"Wind_Spd_ms\"]).\nEnsure that variable exists in every processed dataset.\nIn Results/Behaviour/Metrics QMDs, remove or guard plot chunks that reference other variables.\n\nThis keeps the workflow identical but limits output to one variable."
  }
]